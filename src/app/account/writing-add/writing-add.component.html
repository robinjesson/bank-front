<h3><b>{{data.account.name | uppercase}}</b> {{'writing-add.title' | translate}}</h3>


<form [formGroup]="writingForm">
    <mat-form-field class="example-full-width">
        <mat-label>{{'writing-add.label'| translate}}</mat-label>
        <input matInput type="text" formControlName="title" required>
    </mat-form-field>
    <mat-form-field class="example-full-width">
        <mat-label>{{'writing-add.amount'| translate}}</mat-label>
        <input matInput type="number" formControlName="amount">
    </mat-form-field>
    <mat-form-field class="example-full-width">
        <mat-label>{{'writing-add.amount'| translate}}</mat-label>
        <input matInput type="date" formControlName="date">
    </mat-form-field>
    <mat-form-field class="example-full-width">
        <mat-label>{{'writing-add.periodicity'| translate}}</mat-label>
        <mat-select formControlName="periodUnit">
            <mat-option [value]="EPeriodUnit.Once">{{'writing-add.once' | translate}}</mat-option>
            <mat-option [value]="EPeriodUnit.Day">{{'writing-add.day' | translate}}</mat-option>
            <mat-option [value]="EPeriodUnit.Week">{{'writing-add.week' | translate}}</mat-option>
            <mat-option [value]="EPeriodUnit.Month">{{'writing-add.month' | translate}}</mat-option>
            <mat-option [value]="EPeriodUnit.Year">{{'writing-add.year' | translate}}</mat-option>
        </mat-select>
    </mat-form-field>
    <ng-container *ngIf="writingForm.value.periodUnit != EPeriodUnit.Once">
        <mat-form-field class="example-full-width">
            <mat-label>{{'writing-add.amount'| translate}}</mat-label>
            <input matInput type="date" formControlName="end">
        </mat-form-field>
        <mat-form-field class="example-full-width">
            <mat-label>{{'writing-add.amount'| translate}}</mat-label>
            <input matInput type="number" formControlName="periodic">
        </mat-form-field>
    </ng-container>

    <div class="actions">
        <button mat-stroked-button mat-dialog-close (click)="onSave()"><i class="fas fa-save"></i></button>
        <button mat-stroked-button color="warn" mat-dialog-close><i class="fas fa-times"></i></button>
        <button mat-stroked-button color="green" mat-dialog-close [disabled]="writingForm.invalid" (click)="onConfirm()"><i class="fas fa-check"></i></button>
    </div>
</form>